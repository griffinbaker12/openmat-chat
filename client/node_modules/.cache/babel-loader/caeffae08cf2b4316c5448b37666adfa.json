{"ast":null,"code":"var _jsxFileName = \"/Users/griffinbaker/Desktop/chat-application/client/src/components/chat-preview/chat-preview.component.jsx\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from 'react';\nimport { useAuthentication } from '../../contexts/authentication-context';\nimport { useChatView } from '../../contexts/chat-view-context';\nimport './chat-preview.styles.scss';\nimport { generateChatNameForSoloChats } from '../../utils/utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ChatPreview = () => {\n  _s();\n\n  // And then we can also pull the active conversation up into higher state or into a context just so that we can actually store this variable without losing it when we switch between categories b/c that triggers a re-render\n  const {\n    currentUser\n  } = useAuthentication();\n  const {\n    activeChat,\n    setActiveChat,\n    chats,\n    setChats\n  } = useChatView();\n  console.log(chats);\n\n  const handleClick = e => {\n    const chatId = e.target.getAttribute('name'); // Clicked on the container and not one of the list items, did not want to add the event handler to each individual item\n\n    if (!chatId) return;\n    const activeChat = chats.find(chat => chat._id === chatId);\n    setActiveChat([activeChat]);\n  }; // Also going to need a map down below where I map over all of the data that I am pulling in and then add the class to the right; could also do a name function as well where you get the name off of the element that was clicked and then set it to the active one\n  // This is wrong right now, but I know how to solve it. For each conversation, you need to make one UL or div or whatever and then each person of that convo you add in, then display flex that\n  // Will also need to add in the image container and the name of the chat\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-preview-container\",\n    onClick: handleClick,\n    children: chats.length > 0 && activeChat[0] && chats.map(_ref => {\n      var _activeChat$;\n\n      let {\n        _id,\n        chatName,\n        users\n      } = _ref;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        name: _id,\n        className: `chat-preview-list ${_id === ((_activeChat$ = activeChat[0]) === null || _activeChat$ === void 0 ? void 0 : _activeChat$._id) ? 'active' : ''}`,\n        children: !activeChat[0].isGroupChat ? generateChatNameForSoloChats(users, currentUser) : chatName\n      }, _id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChatPreview, \"5a/hZ+2rjI/j7AMdhn+bKYiqDUc=\", false, function () {\n  return [useAuthentication, useChatView];\n});\n\n_c = ChatPreview;\nexport default ChatPreview;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatPreview\");","map":{"version":3,"names":["useCallback","useEffect","useState","useAuthentication","useChatView","generateChatNameForSoloChats","ChatPreview","currentUser","activeChat","setActiveChat","chats","setChats","console","log","handleClick","e","chatId","target","getAttribute","find","chat","_id","length","map","chatName","users","isGroupChat"],"sources":["/Users/griffinbaker/Desktop/chat-application/client/src/components/chat-preview/chat-preview.component.jsx"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport { useAuthentication } from '../../contexts/authentication-context';\nimport { useChatView } from '../../contexts/chat-view-context';\nimport './chat-preview.styles.scss';\nimport { generateChatNameForSoloChats } from '../../utils/utils';\n\nconst ChatPreview = () => {\n  // And then we can also pull the active conversation up into higher state or into a context just so that we can actually store this variable without losing it when we switch between categories b/c that triggers a re-render\n  const { currentUser } = useAuthentication();\n  const { activeChat, setActiveChat, chats, setChats } = useChatView();\n\n  console.log(chats);\n\n  const handleClick = e => {\n    const chatId = e.target.getAttribute('name');\n\n    // Clicked on the container and not one of the list items, did not want to add the event handler to each individual item\n    if (!chatId) return;\n\n    const activeChat = chats.find(chat => chat._id === chatId);\n    setActiveChat([activeChat]);\n  };\n\n  // Also going to need a map down below where I map over all of the data that I am pulling in and then add the class to the right; could also do a name function as well where you get the name off of the element that was clicked and then set it to the active one\n\n  // This is wrong right now, but I know how to solve it. For each conversation, you need to make one UL or div or whatever and then each person of that convo you add in, then display flex that\n\n  // Will also need to add in the image container and the name of the chat\n\n  return (\n    <div className=\"chat-preview-container\" onClick={handleClick}>\n      {chats.length > 0 &&\n        activeChat[0] &&\n        chats.map(({ _id, chatName, users }) => (\n          <div\n            key={_id}\n            name={_id}\n            className={`chat-preview-list ${\n              _id === activeChat[0]?._id ? 'active' : ''\n            }`}\n          >\n            {!activeChat[0].isGroupChat\n              ? generateChatNameForSoloChats(users, currentUser)\n              : chatName}\n          </div>\n        ))}\n    </div>\n  );\n};\n\nexport default ChatPreview;\n"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;AACA,SAASC,iBAAT,QAAkC,uCAAlC;AACA,SAASC,WAAT,QAA4B,kCAA5B;AACA,OAAO,4BAAP;AACA,SAASC,4BAAT,QAA6C,mBAA7C;;;AAEA,MAAMC,WAAW,GAAG,MAAM;EAAA;;EACxB;EACA,MAAM;IAAEC;EAAF,IAAkBJ,iBAAiB,EAAzC;EACA,MAAM;IAAEK,UAAF;IAAcC,aAAd;IAA6BC,KAA7B;IAAoCC;EAApC,IAAiDP,WAAW,EAAlE;EAEAQ,OAAO,CAACC,GAAR,CAAYH,KAAZ;;EAEA,MAAMI,WAAW,GAAGC,CAAC,IAAI;IACvB,MAAMC,MAAM,GAAGD,CAAC,CAACE,MAAF,CAASC,YAAT,CAAsB,MAAtB,CAAf,CADuB,CAGvB;;IACA,IAAI,CAACF,MAAL,EAAa;IAEb,MAAMR,UAAU,GAAGE,KAAK,CAACS,IAAN,CAAWC,IAAI,IAAIA,IAAI,CAACC,GAAL,KAAaL,MAAhC,CAAnB;IACAP,aAAa,CAAC,CAACD,UAAD,CAAD,CAAb;EACD,CARD,CAPwB,CAiBxB;EAEA;EAEA;;;EAEA,oBACE;IAAK,SAAS,EAAC,wBAAf;IAAwC,OAAO,EAAEM,WAAjD;IAAA,UACGJ,KAAK,CAACY,MAAN,GAAe,CAAf,IACCd,UAAU,CAAC,CAAD,CADX,IAECE,KAAK,CAACa,GAAN,CAAU;MAAA;;MAAA,IAAC;QAAEF,GAAF;QAAOG,QAAP;QAAiBC;MAAjB,CAAD;MAAA,oBACR;QAEE,IAAI,EAAEJ,GAFR;QAGE,SAAS,EAAG,qBACVA,GAAG,sBAAKb,UAAU,CAAC,CAAD,CAAf,iDAAK,aAAea,GAApB,CAAH,GAA6B,QAA7B,GAAwC,EACzC,EALH;QAAA,UAOG,CAACb,UAAU,CAAC,CAAD,CAAV,CAAckB,WAAf,GACGrB,4BAA4B,CAACoB,KAAD,EAAQlB,WAAR,CAD/B,GAEGiB;MATN,GACOH,GADP;QAAA;QAAA;QAAA;MAAA,QADQ;IAAA,CAAV;EAHJ;IAAA;IAAA;IAAA;EAAA,QADF;AAmBD,CA1CD;;GAAMf,W;UAEoBH,iB,EAC+BC,W;;;KAHnDE,W;AA4CN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}