{"ast":null,"code":"var _jsxFileName = \"/Users/griffinbaker/Desktop/chat-application/client/src/components/login/login.component.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuthentication } from '../../contexts/authentication-context';\nimport Spinner from '../spinner/spinner.component';\nimport './login.styles.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [text, setText] = useState({\n    email: '',\n    password: ''\n  });\n  const {\n    changeAuth,\n    setCurrentUser,\n    isLoading,\n    setIsLoading\n  } = useAuthentication();\n  const navigate = useNavigate();\n\n  const handleLogin = () => {\n    if (!text.email || !text.email) return;\n    setIsLoading(true);\n    fetch('http://localhost:4000/api/user/login', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: text.email,\n        password: text.password\n      })\n    }).then(res => res.json()).then(data => {\n      setCurrentUser(data); // Until we and if we use redux with the persisted state, but otherwise we can just check to see if there is a current user\n\n      localStorage.setItem('userInfo', JSON.stringify(data));\n      setIsLoading(false);\n      navigate('/chat');\n    }).catch(err => {\n      console.log(err);\n      setIsLoading(false);\n    }); // Definitely room here as well for showing a toast icon that will pop up when the user either is or is not successful in signing up and for what reason. For that reason alone and how clean it is it makes me want to use chakra ui.\n    // Same idea here, instead of an alert window, could just render a nice and clean toast icon that will either be on or off depending on the state that you can pass it as a property\n  };\n\n  const handleChange = e => {\n    const name = e.target.getAttribute('name');\n    setText(prevState => {\n      return { ...prevState,\n        [name]: e.target.value\n      };\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"login-article\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"login-main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-measure\",\n        children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n          className: \"login-fieldset\",\n          children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n            className: \"login-legend\",\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login-legend-input-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"login-legend-label\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: handleChange,\n              className: \"login-legend-input\",\n              type: \"email\",\n              name: \"email\",\n              id: \"email\",\n              value: text.email,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login-legend-input-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"login-legend-label\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: handleChange,\n              className: \"login-legend-input\",\n              type: \"password\",\n              name: \"password\",\n              id: \"password\",\n              value: text.password,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"login-input\",\n          type: \"button\",\n          onClick: handleLogin,\n          children: isLoading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 26\n          }, this) : 'Sign In'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          onClick: changeAuth,\n          className: \"register-text\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"OjRjw/6DJrtM70hVZ1NJPcuraRs=\", false, function () {\n  return [useAuthentication, useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useNavigate","useAuthentication","Spinner","Login","text","setText","email","password","changeAuth","setCurrentUser","isLoading","setIsLoading","navigate","handleLogin","fetch","method","headers","body","JSON","stringify","then","res","json","data","localStorage","setItem","catch","err","console","log","handleChange","e","name","target","getAttribute","prevState","value"],"sources":["/Users/griffinbaker/Desktop/chat-application/client/src/components/login/login.component.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuthentication } from '../../contexts/authentication-context';\nimport Spinner from '../spinner/spinner.component';\nimport './login.styles.scss';\n\nconst Login = () => {\n  const [text, setText] = useState({ email: '', password: '' });\n\n  const { changeAuth, setCurrentUser, isLoading, setIsLoading } =\n    useAuthentication();\n  const navigate = useNavigate();\n\n  const handleLogin = () => {\n    if (!text.email || !text.email) return;\n    setIsLoading(true);\n    fetch('http://localhost:4000/api/user/login', {\n      method: 'post',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        email: text.email,\n        password: text.password,\n      }),\n    })\n      .then(res => res.json())\n      .then(data => {\n        setCurrentUser(data);\n        // Until we and if we use redux with the persisted state, but otherwise we can just check to see if there is a current user\n        localStorage.setItem('userInfo', JSON.stringify(data));\n        setIsLoading(false);\n        navigate('/chat');\n      })\n      .catch(err => {\n        console.log(err);\n        setIsLoading(false);\n      });\n\n    // Definitely room here as well for showing a toast icon that will pop up when the user either is or is not successful in signing up and for what reason. For that reason alone and how clean it is it makes me want to use chakra ui.\n\n    // Same idea here, instead of an alert window, could just render a nice and clean toast icon that will either be on or off depending on the state that you can pass it as a property\n  };\n\n  const handleChange = e => {\n    const name = e.target.getAttribute('name');\n    setText(prevState => {\n      return {\n        ...prevState,\n        [name]: e.target.value,\n      };\n    });\n  };\n\n  return (\n    <article className=\"login-article\">\n      <main className=\"login-main\">\n        <div className=\"login-measure\">\n          <fieldset className=\"login-fieldset\">\n            <legend className=\"login-legend\">Sign In</legend>\n            <div className=\"login-legend-input-container\">\n              <label htmlFor=\"email\" className=\"login-legend-label\">\n                Email\n              </label>\n              <input\n                onChange={handleChange}\n                className=\"login-legend-input\"\n                type=\"email\"\n                name=\"email\"\n                id=\"email\"\n                value={text.email}\n                required\n              />\n            </div>\n            <div className=\"login-legend-input-container\">\n              <label htmlFor=\"password\" className=\"login-legend-label\">\n                Password\n              </label>\n              <input\n                onChange={handleChange}\n                className=\"login-legend-input\"\n                type=\"password\"\n                name=\"password\"\n                id=\"password\"\n                value={text.password}\n                required\n              />\n            </div>\n          </fieldset>\n          <button className=\"login-input\" type=\"button\" onClick={handleLogin}>\n            {isLoading ? <Spinner /> : 'Sign In'}\n          </button>\n          <p onClick={changeAuth} className=\"register-text\">\n            Register\n          </p>\n        </div>\n      </main>\n    </article>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}