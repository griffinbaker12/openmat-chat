{"ast":null,"code":"var _jsxFileName = \"/Users/griffinbaker/Desktop/chat-application/client/src/components/chat-info-modal/chat-info-modal.components.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useRef } from 'react';\nimport { useConversations } from '../../contexts/conversations-context';\nimport UserInfoModal from '../user-info-modal/user-info-modal.component';\nimport { useSidebar } from '../../contexts/sidebar-context';\nimport { ReactComponent as ChevronRight } from '../../assets/chevron-right.svg';\nimport { ReactComponent as EditPencil } from '../../assets/pencil.svg';\nimport './chat-info-modal.styles.scss';\nimport Tooltip from '../tooltip/tooltip.component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ChatInfoModal = () => {\n  _s();\n\n  var _activeChat$;\n\n  const {\n    activeChat\n  } = useConversations();\n  const isGroupChat = ((_activeChat$ = activeChat[0]) === null || _activeChat$ === void 0 ? void 0 : _activeChat$.chatName) === 'solo chat' ? false : true;\n  const {\n    showModal,\n    closeModal\n  } = useSidebar();\n  const [showChatEdit, setShowChatEdit] = useState(false);\n  const [newChatName, setNewChatName] = useState('');\n  const chatEditInputRef = useRef(null);\n  useEffect(() => {\n    var _activeChat$2;\n\n    setNewChatName((_activeChat$2 = activeChat[0]) === null || _activeChat$2 === void 0 ? void 0 : _activeChat$2.chatName);\n  }, [activeChat]);\n  useEffect(() => {\n    chatEditInputRef.current.focus();\n  }, [showChatEdit]);\n\n  const handleKeyChange = e => {\n    if (e.code !== 'Enter') return; // if it does equal enter, then we need to switch the input view to be hidden and change the actual chat with the endpoint\n  };\n\n  const handleChatNameChange = e => {\n    setNewChatName(e.target.value);\n    console.log(e);\n  };\n\n  const handleEditChatName = () => {\n    setShowChatEdit(prevState => !prevState);\n  }; // So what I am going to need to is to set the state of the input field to be equal to the current chat name so that when you switch the component on click the name is already filled\n  // This is sick you can also just store an object with the different users that you visited and each time you go back you go back to the prior user...apparently can also use a graph for this as well\n  // Check if it is a solo chat or a group chat, and then render a different modal accordingly\n  // Could have also made calsses that I would apply across the different modals, but at this point..\n  // If it is a group chat, then I want to show the entire chat, and then once you click on a user, I actually just want to switch to not show the group chat, but to show the actual user info-modal, hide the group chat, and include a back arrow\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `chat-info-modal-container ${showModal ? 'active' : ''}`,\n    onClick: closeModal,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-info-modal-content\",\n      onClick: e => e.stopPropagation(),\n      children: isGroupChat && activeChat.length !== 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"group-chat-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: chatEditInputRef,\n            className: \"group-chat-modal-header-chat-name\",\n            onKeyDown: handleKeyChange,\n            onChange: handleChatNameChange,\n            value: newChatName || activeChat[0].chatName,\n            style: !showChatEdit ? {\n              display: 'none'\n            } : {\n              visibility: 'visible'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: !showChatEdit ? {\n              visibility: 'visible'\n            } : {\n              display: 'none'\n            },\n            children: activeChat[0].chatName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: \"Click to edit chat name\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"edit-pencil-container\",\n              onClick: handleEditChatName,\n              children: /*#__PURE__*/_jsxDEV(EditPencil, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeModal,\n            type: \"button\",\n            style: {\n              color: 'white',\n              marginLeft: 'auto'\n            },\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"group-chat-modal-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"group-chat-modal-chat-participants-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"group-chat-modal-member-header\",\n              children: \"Members\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"group-chat-modal-member-container\",\n              children: activeChat[0].users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n                name: user._id,\n                className: \"group-chat-modal-user-info-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"group-chat-modal-user-info-picture-container\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    height: \"100%\",\n                    src: user.picture,\n                    alt: \"user\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-name-user-userName-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: user.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"@\", user.userName]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chevron-container\",\n                  children: /*#__PURE__*/_jsxDEV(ChevronRight, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 23\n                }, this)]\n              }, user._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(UserInfoModal, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChatInfoModal, \"1Uws+sC/mh6IhpWMBF7a7ozCklE=\", false, function () {\n  return [useConversations, useSidebar];\n});\n\n_c = ChatInfoModal;\nexport default ChatInfoModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatInfoModal\");","map":{"version":3,"names":["useEffect","useState","useRef","useConversations","UserInfoModal","useSidebar","ReactComponent","ChevronRight","EditPencil","Tooltip","ChatInfoModal","activeChat","isGroupChat","chatName","showModal","closeModal","showChatEdit","setShowChatEdit","newChatName","setNewChatName","chatEditInputRef","current","focus","handleKeyChange","e","code","handleChatNameChange","target","value","console","log","handleEditChatName","prevState","stopPropagation","length","display","visibility","color","marginLeft","users","map","user","_id","picture","name","userName"],"sources":["/Users/griffinbaker/Desktop/chat-application/client/src/components/chat-info-modal/chat-info-modal.components.jsx"],"sourcesContent":["import { useEffect, useState, useRef } from 'react';\nimport { useConversations } from '../../contexts/conversations-context';\nimport UserInfoModal from '../user-info-modal/user-info-modal.component';\nimport { useSidebar } from '../../contexts/sidebar-context';\nimport { ReactComponent as ChevronRight } from '../../assets/chevron-right.svg';\nimport { ReactComponent as EditPencil } from '../../assets/pencil.svg';\nimport './chat-info-modal.styles.scss';\nimport Tooltip from '../tooltip/tooltip.component';\n\nconst ChatInfoModal = () => {\n  const { activeChat } = useConversations();\n  const isGroupChat = activeChat[0]?.chatName === 'solo chat' ? false : true;\n  const { showModal, closeModal } = useSidebar();\n  const [showChatEdit, setShowChatEdit] = useState(false);\n  const [newChatName, setNewChatName] = useState('');\n  const chatEditInputRef = useRef(null);\n\n  useEffect(() => {\n    setNewChatName(activeChat[0]?.chatName);\n  }, [activeChat]);\n\n  useEffect(() => {\n    chatEditInputRef.current.focus();\n  }, [showChatEdit]);\n\n  const handleKeyChange = e => {\n    if (e.code !== 'Enter') return;\n\n    // if it does equal enter, then we need to switch the input view to be hidden and change the actual chat with the endpoint\n  };\n\n  const handleChatNameChange = e => {\n    setNewChatName(e.target.value);\n    console.log(e);\n  };\n\n  const handleEditChatName = () => {\n    setShowChatEdit(prevState => !prevState);\n  };\n  // So what I am going to need to is to set the state of the input field to be equal to the current chat name so that when you switch the component on click the name is already filled\n\n  // This is sick you can also just store an object with the different users that you visited and each time you go back you go back to the prior user...apparently can also use a graph for this as well\n\n  // Check if it is a solo chat or a group chat, and then render a different modal accordingly\n\n  // Could have also made calsses that I would apply across the different modals, but at this point..\n\n  // If it is a group chat, then I want to show the entire chat, and then once you click on a user, I actually just want to switch to not show the group chat, but to show the actual user info-modal, hide the group chat, and include a back arrow\n\n  return (\n    <div\n      className={`chat-info-modal-container ${showModal ? 'active' : ''}`}\n      onClick={closeModal}\n    >\n      <div\n        className=\"chat-info-modal-content\"\n        onClick={e => e.stopPropagation()}\n      >\n        {isGroupChat && activeChat.length !== 0 ? (\n          <>\n            <div className=\"group-chat-modal-header\">\n              <input\n                ref={chatEditInputRef}\n                className=\"group-chat-modal-header-chat-name\"\n                onKeyDown={handleKeyChange}\n                onChange={handleChatNameChange}\n                value={newChatName || activeChat[0].chatName}\n                style={\n                  !showChatEdit\n                    ? { display: 'none' }\n                    : { visibility: 'visible' }\n                }\n              />\n              <p\n                style={\n                  !showChatEdit\n                    ? { visibility: 'visible' }\n                    : { display: 'none' }\n                }\n              >\n                {activeChat[0].chatName}\n              </p>\n              <Tooltip content=\"Click to edit chat name\">\n                <div\n                  className=\"edit-pencil-container\"\n                  onClick={handleEditChatName}\n                >\n                  <EditPencil />\n                </div>\n              </Tooltip>\n              <button\n                onClick={closeModal}\n                type=\"button\"\n                style={{ color: 'white', marginLeft: 'auto' }}\n              >\n                &#x2715;\n              </button>\n            </div>\n            <div className=\"group-chat-modal-body\">\n              <div className=\"group-chat-modal-chat-participants-container\">\n                <p className=\"group-chat-modal-member-header\">Members</p>\n                <div className=\"group-chat-modal-member-container\">\n                  {activeChat[0].users.map(user => (\n                    <div\n                      key={user._id}\n                      name={user._id}\n                      className=\"group-chat-modal-user-info-container\"\n                    >\n                      <div className=\"group-chat-modal-user-info-picture-container\">\n                        <img height=\"100%\" src={user.picture} alt=\"user\" />\n                      </div>\n                      <div className=\"user-name-user-userName-container\">\n                        <p>{user.name}</p>\n                        <p>@{user.userName}</p>\n                      </div>\n                      <div className=\"chevron-container\">\n                        <ChevronRight />\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </>\n        ) : (\n          <UserInfoModal />\n        )}\n      </div>\n    </div>\n  );\n};\nexport default ChatInfoModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}