{"ast":null,"code":"var _jsxFileName = \"/Users/griffinbaker/Desktop/chat-application/client/src/components/chat-info-modal/chat-info-modal.components.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useRef, Fragment } from 'react';\nimport { useAuthentication } from '../../contexts/authentication-context';\nimport { useChatView } from '../../contexts/chat-view-context';\nimport UserInfoModal from '../user-info-modal/user-info-modal.component';\nimport { ReactComponent as ChevronRight } from '../../assets/chevron-right.svg';\nimport { ReactComponent as EditPencil } from '../../assets/pencil.svg';\nimport SearchResult from '../search-result/search-result-component';\nimport AddUserDropdown from '../add-user-dropdown/add-user-dropdown.component';\nimport './chat-info-modal.styles.scss';\nimport Tooltip from '../tooltip/tooltip.component';\nimport { defaultToast, TOAST_TYPE } from '../../utils/utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ChatInfoModal = () => {\n  _s();\n\n  var _activeChat$;\n\n  const {\n    currentUser\n  } = useAuthentication();\n  const {\n    activeChat,\n    setActiveChat,\n    chats,\n    setChats,\n    showModal,\n    closeModal,\n    fetchChats\n  } = useChatView();\n  const isGroupChat = ((_activeChat$ = activeChat[0]) === null || _activeChat$ === void 0 ? void 0 : _activeChat$.chatName) === 'solo chat' ? false : true;\n  const [showChatEdit, setShowChatEdit] = useState(false);\n  const [newChatName, setNewChatName] = useState('');\n  const [userToAdd, setUserToAdd] = useState('');\n  const [userSearchResults, setUserSearchResults] = useState([]);\n  const chatEditInputRef = useRef(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showAddUserDropdown, setShowAddUserDropdown] = useState(false);\n  useEffect(() => {\n    if (!chatEditInputRef.current) return;\n    chatEditInputRef.current.focus();\n  }, [showChatEdit]);\n  useEffect(() => {\n    if (!activeChat[0]) return;\n    setNewChatName(activeChat[0].chatName);\n  }, [activeChat, showChatEdit]);\n\n  const handleShowUserDropdown = () => setShowAddUserDropdown(prevState => !prevState);\n\n  const handleKeyChange = async e => {\n    if (e.code !== 'Enter') return;\n\n    if (newChatName === activeChat[0].chatName) {\n      setShowChatEdit(false);\n      return;\n    }\n\n    if (!newChatName) {\n      defaultToast(TOAST_TYPE.error, 'Chat name cannot be blank');\n      setNewChatName(activeChat[0].chatName);\n      setShowChatEdit(false);\n      return;\n    }\n\n    const response = await fetch('http://localhost:4000/api/chat/renameChat', {\n      method: 'put',\n      headers: {\n        Authorization: `Bearer ${currentUser.token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        chatId: activeChat[0]._id,\n        chatName: newChatName\n      })\n    });\n    const updatedChat = await response.json();\n    setActiveChat([updatedChat]);\n    setShowChatEdit(false);\n    fetchChats();\n  };\n\n  const handleChatNameChange = e => {\n    setNewChatName(e.target.value);\n  };\n\n  const handleEditChatName = () => {\n    setShowChatEdit(prevState => !prevState);\n  };\n\n  const handleAddUserChange = async e => {\n    const field = e.target.getAttribute('name');\n    const query = e.target.value; // If we are typing into the name field, then we want to make a fetch reqeust with the current value of the input\n\n    if (field !== 'name') return;\n\n    try {\n      setIsLoading(true);\n      const response = await fetch(`http://localhost:4000/api/user?search=${query}`, {\n        method: 'get',\n        headers: {\n          Authorization: `Bearer ${currentUser.token}`\n        }\n      });\n      const {\n        users\n      } = await response.json(); // console.log(users);\n\n      setIsLoading(false);\n      setUserSearchResults(users);\n    } catch (e) {\n      defaultToast(TOAST_TYPE.error, 'Error adding user');\n    }\n  }; // So what I am going to need to is to set the state of the input field to be equal to the current chat name so that when you switch the component on click the name is already filled\n  // This is sick you can also just store an object with the different users that you visited and each time you go back you go back to the prior user...apparently can also use a graph for this as well\n  // Check if it is a solo chat or a group chat, and then render a different modal accordingly\n  // Could have also made calsses that I would apply across the different modals, but at this point..\n  // If it is a group chat, then I want to show the entire chat, and then once you click on a user, I actually just want to switch to not show the group chat, but to show the actual user info-modal, hide the group chat, and include a back arrow\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `chat-info-modal-container ${showModal ? 'active' : ''}`,\n    onClick: closeModal,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-info-modal-content\",\n      onClick: e => e.stopPropagation(),\n      children: isGroupChat && activeChat.length !== 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"group-chat-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: chatEditInputRef,\n            className: \"group-chat-modal-header-chat-name\",\n            onKeyDown: handleKeyChange,\n            onChange: handleChatNameChange,\n            value: newChatName,\n            style: !showChatEdit ? {\n              display: 'none'\n            } : {\n              visibility: 'visible'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: !showChatEdit ? {\n              visibility: 'visible'\n            } : {\n              display: 'none'\n            },\n            children: activeChat[0].chatName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n            content: \"Click to edit chat name\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"edit-pencil-container\",\n              onClick: handleEditChatName,\n              children: /*#__PURE__*/_jsxDEV(EditPencil, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeModal,\n            type: \"button\",\n            style: {\n              color: 'white',\n              marginLeft: 'auto'\n            },\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"group-chat-modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"group-chat-modal-chat-participants-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"group-chat-modal-member-header-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Members\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                content: \"Click to add user\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: handleShowUserDropdown,\n                  className: \"add-button-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 178,\n                    columnNumber: 23\n                  }, this), showAddUserDropdown && /*#__PURE__*/_jsxDEV(AddUserDropdown, {\n                    showAddUserDropdown: showAddUserDropdown,\n                    setShowAddUserDropdown: setShowAddUserDropdown\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"group-chat-modal-member-container\",\n              children: activeChat[0].users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n                name: user._id,\n                className: \"group-chat-modal-user-info-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"group-chat-modal-user-info-picture-container\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    height: \"100%\",\n                    src: user.picture,\n                    alt: \"user\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 197,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"user-name-user-userName-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: user.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"@\", user.userName]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"chevron-container\",\n                  children: /*#__PURE__*/_jsxDEV(ChevronRight, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 23\n                }, this)]\n              }, user._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"new-conversation-modal-chat-search-result-container\",\n            children: userSearchResults.map((searchResult, i) => /*#__PURE__*/_jsxDEV(Fragment, {\n              children: /*#__PURE__*/_jsxDEV(SearchResult // handleAddUser={handleAddUser}\n              , {\n                searchResult: searchResult\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(UserInfoModal, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChatInfoModal, \"xUbkAnHJk1NotLvCI7sTFOrtcq8=\", false, function () {\n  return [useAuthentication, useChatView];\n});\n\n_c = ChatInfoModal;\nexport default ChatInfoModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatInfoModal\");","map":{"version":3,"names":["useEffect","useState","useRef","Fragment","useAuthentication","useChatView","UserInfoModal","ReactComponent","ChevronRight","EditPencil","SearchResult","AddUserDropdown","Tooltip","defaultToast","TOAST_TYPE","ChatInfoModal","currentUser","activeChat","setActiveChat","chats","setChats","showModal","closeModal","fetchChats","isGroupChat","chatName","showChatEdit","setShowChatEdit","newChatName","setNewChatName","userToAdd","setUserToAdd","userSearchResults","setUserSearchResults","chatEditInputRef","isLoading","setIsLoading","showAddUserDropdown","setShowAddUserDropdown","current","focus","handleShowUserDropdown","prevState","handleKeyChange","e","code","error","response","fetch","method","headers","Authorization","token","body","JSON","stringify","chatId","_id","updatedChat","json","handleChatNameChange","target","value","handleEditChatName","handleAddUserChange","field","getAttribute","query","users","stopPropagation","length","display","visibility","color","marginLeft","map","user","picture","name","userName","searchResult","i"],"sources":["/Users/griffinbaker/Desktop/chat-application/client/src/components/chat-info-modal/chat-info-modal.components.jsx"],"sourcesContent":["import { useEffect, useState, useRef, Fragment } from 'react';\nimport { useAuthentication } from '../../contexts/authentication-context';\nimport { useChatView } from '../../contexts/chat-view-context';\nimport UserInfoModal from '../user-info-modal/user-info-modal.component';\nimport { ReactComponent as ChevronRight } from '../../assets/chevron-right.svg';\nimport { ReactComponent as EditPencil } from '../../assets/pencil.svg';\nimport SearchResult from '../search-result/search-result-component';\nimport AddUserDropdown from '../add-user-dropdown/add-user-dropdown.component';\nimport './chat-info-modal.styles.scss';\nimport Tooltip from '../tooltip/tooltip.component';\nimport { defaultToast, TOAST_TYPE } from '../../utils/utils';\n\nconst ChatInfoModal = () => {\n  const { currentUser } = useAuthentication();\n  const {\n    activeChat,\n    setActiveChat,\n    chats,\n    setChats,\n    showModal,\n    closeModal,\n    fetchChats,\n  } = useChatView();\n\n  const isGroupChat = activeChat[0]?.chatName === 'solo chat' ? false : true;\n  const [showChatEdit, setShowChatEdit] = useState(false);\n  const [newChatName, setNewChatName] = useState('');\n  const [userToAdd, setUserToAdd] = useState('');\n  const [userSearchResults, setUserSearchResults] = useState([]);\n  const chatEditInputRef = useRef(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showAddUserDropdown, setShowAddUserDropdown] = useState(false);\n\n  useEffect(() => {\n    if (!chatEditInputRef.current) return;\n    chatEditInputRef.current.focus();\n  }, [showChatEdit]);\n\n  useEffect(() => {\n    if (!activeChat[0]) return;\n    setNewChatName(activeChat[0].chatName);\n  }, [activeChat, showChatEdit]);\n\n  const handleShowUserDropdown = () =>\n    setShowAddUserDropdown(prevState => !prevState);\n\n  const handleKeyChange = async e => {\n    if (e.code !== 'Enter') return;\n    if (newChatName === activeChat[0].chatName) {\n      setShowChatEdit(false);\n      return;\n    }\n    if (!newChatName) {\n      defaultToast(TOAST_TYPE.error, 'Chat name cannot be blank');\n      setNewChatName(activeChat[0].chatName);\n      setShowChatEdit(false);\n      return;\n    }\n\n    const response = await fetch('http://localhost:4000/api/chat/renameChat', {\n      method: 'put',\n      headers: {\n        Authorization: `Bearer ${currentUser.token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        chatId: activeChat[0]._id,\n        chatName: newChatName,\n      }),\n    });\n\n    const updatedChat = await response.json();\n    setActiveChat([updatedChat]);\n    setShowChatEdit(false);\n    fetchChats();\n  };\n\n  const handleChatNameChange = e => {\n    setNewChatName(e.target.value);\n  };\n\n  const handleEditChatName = () => {\n    setShowChatEdit(prevState => !prevState);\n  };\n\n  const handleAddUserChange = async e => {\n    const field = e.target.getAttribute('name');\n    const query = e.target.value;\n\n    // If we are typing into the name field, then we want to make a fetch reqeust with the current value of the input\n    if (field !== 'name') return;\n\n    try {\n      setIsLoading(true);\n      const response = await fetch(\n        `http://localhost:4000/api/user?search=${query}`,\n        {\n          method: 'get',\n          headers: { Authorization: `Bearer ${currentUser.token}` },\n        }\n      );\n      const { users } = await response.json();\n      // console.log(users);\n      setIsLoading(false);\n      setUserSearchResults(users);\n    } catch (e) {\n      defaultToast(TOAST_TYPE.error, 'Error adding user');\n    }\n  };\n  // So what I am going to need to is to set the state of the input field to be equal to the current chat name so that when you switch the component on click the name is already filled\n\n  // This is sick you can also just store an object with the different users that you visited and each time you go back you go back to the prior user...apparently can also use a graph for this as well\n\n  // Check if it is a solo chat or a group chat, and then render a different modal accordingly\n\n  // Could have also made calsses that I would apply across the different modals, but at this point..\n\n  // If it is a group chat, then I want to show the entire chat, and then once you click on a user, I actually just want to switch to not show the group chat, but to show the actual user info-modal, hide the group chat, and include a back arrow\n\n  return (\n    <div\n      className={`chat-info-modal-container ${showModal ? 'active' : ''}`}\n      onClick={closeModal}\n    >\n      <div\n        className=\"chat-info-modal-content\"\n        onClick={e => e.stopPropagation()}\n      >\n        {isGroupChat && activeChat.length !== 0 ? (\n          <>\n            <div className=\"group-chat-modal-header\">\n              <input\n                ref={chatEditInputRef}\n                className=\"group-chat-modal-header-chat-name\"\n                onKeyDown={handleKeyChange}\n                onChange={handleChatNameChange}\n                value={newChatName}\n                style={\n                  !showChatEdit\n                    ? { display: 'none' }\n                    : { visibility: 'visible' }\n                }\n              />\n              <p\n                style={\n                  !showChatEdit\n                    ? { visibility: 'visible' }\n                    : { display: 'none' }\n                }\n              >\n                {activeChat[0].chatName}\n              </p>\n              <Tooltip content=\"Click to edit chat name\">\n                <div\n                  className=\"edit-pencil-container\"\n                  onClick={handleEditChatName}\n                >\n                  <EditPencil />\n                </div>\n              </Tooltip>\n              <button\n                onClick={closeModal}\n                type=\"button\"\n                style={{ color: 'white', marginLeft: 'auto' }}\n              >\n                &#x2715;\n              </button>\n            </div>\n            <div className=\"group-chat-modal-body\">\n              <div className=\"group-chat-modal-chat-participants-container\">\n                <div className=\"group-chat-modal-member-header-container\">\n                  <p>Members</p>\n                  <Tooltip content=\"Click to add user\">\n                    <div\n                      onClick={handleShowUserDropdown}\n                      className=\"add-button-container\"\n                    >\n                      <span>+</span>\n\n                      {showAddUserDropdown && (\n                        <AddUserDropdown\n                          showAddUserDropdown={showAddUserDropdown}\n                          setShowAddUserDropdown={setShowAddUserDropdown}\n                        />\n                      )}\n                    </div>\n                  </Tooltip>\n                </div>\n                <div className=\"group-chat-modal-member-container\">\n                  {activeChat[0].users.map(user => (\n                    <div\n                      key={user._id}\n                      name={user._id}\n                      className=\"group-chat-modal-user-info-container\"\n                    >\n                      <div className=\"group-chat-modal-user-info-picture-container\">\n                        <img height=\"100%\" src={user.picture} alt=\"user\" />\n                      </div>\n                      <div className=\"user-name-user-userName-container\">\n                        <p>{user.name}</p>\n                        <p>@{user.userName}</p>\n                      </div>\n                      <div className=\"chevron-container\">\n                        <ChevronRight />\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n              <div className=\"new-conversation-modal-chat-search-result-container\">\n                {userSearchResults.map((searchResult, i) => (\n                  <Fragment key={i}>\n                    <SearchResult\n                      // handleAddUser={handleAddUser}\n                      searchResult={searchResult}\n                    />\n                  </Fragment>\n                ))}\n              </div>\n            </div>\n          </>\n        ) : (\n          <UserInfoModal />\n        )}\n      </div>\n    </div>\n  );\n};\nexport default ChatInfoModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}