{"ast":null,"code":"var _jsxFileName = \"/Users/griffinbaker/Desktop/chat-application/client/src/components/message-view/message-view.component.jsx\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState, Fragment, useRef } from 'react';\nimport Lottie from 'lottie-react';\nimport { useChatView } from '../../contexts/chat-view-context';\nimport Spinner from '../spinner/spinner.component';\nimport './message-view.styles.scss';\nimport { useAuthentication } from '../../contexts/authentication-context';\nimport animationData from '../../animations/typing.json';\nimport { defaultToast, sameSenderAndNotCurrentUser, TOAST_TYPE, userSent, getTyperString, generateChatNameForSoloChats } from '../../utils/utils';\nimport { useSocket } from '../../contexts/socket-context'; // Could definitely add timestamp data to the message as well, that would be pretty clean actually\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet typingTimer;\n\nconst MessageView = _ref => {\n  _s();\n\n  let {\n    isTyping,\n    setIsTyping\n  } = _ref;\n  // Somehow we are going to have to get all of the message in a conversation potentially and then mark whether or not they are your messages or someone else's to style accordingly;\n  const {\n    currentUser\n  } = useAuthentication();\n  const {\n    activeChat,\n    setNotifications,\n    unreadMessages,\n    setUnreadMessages\n  } = useChatView();\n  const {\n    socket,\n    onlineUsers\n  } = useSocket();\n  const [messages, setMessages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false); // const [isTyping, setIsTyping] = useState(false);\n\n  const [typing, setTyping] = useState(false);\n  const [typers, setTypers] = useState([]);\n  const [showFlag, setShowFlag] = useState(false);\n  const [circuit, setCircuit] = useState(false);\n  const newRef = useRef();\n  useEffect(() => {\n    const handleKeyDownForNewMessages = e => {\n      if (e.key === 'Escape') setUnreadMessages([]);\n    };\n\n    window.addEventListener('keydown', handleKeyDownForNewMessages);\n    return () => window.addEventListener('keydown', handleKeyDownForNewMessages);\n  }, [setUnreadMessages]);\n\n  const handleKeyDown = async e => {\n    if (!socket) return;\n    const newMessage = e.target.innerHTML;\n\n    if (e.key === 'Enter' && newMessage) {\n      e.preventDefault();\n      e.target.innerHTML = '';\n\n      try {\n        const response = await fetch(`http://localhost:4000/api/message`, {\n          method: 'post',\n          headers: {\n            Authorization: `Bearer ${currentUser.token}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            chatId: activeChat[0]._id,\n            text: newMessage\n          })\n        });\n        const message = await response.json();\n        socket.emit('send-msg', message);\n        setMessages(prevState => [...prevState, message]);\n        setUnreadMessages([]);\n        setTyping(false);\n        socket.emit('chat update', message.chat);\n        const usersOtherThanCurrentAndOffline = [];\n        message.chat.users.forEach(user => {\n          if (user._id === currentUser._id) return;\n          const isOnline = onlineUsers.some(onlineUserArr => onlineUserArr.includes(user._id));\n          if (!isOnline) usersOtherThanCurrentAndOffline.push(user);\n        }); // Log the notification for every user that is offline so it appears when they log in\n\n        usersOtherThanCurrentAndOffline.forEach(async user => {\n          await fetch(`http://localhost:4000/api/notification/addNotification`, {\n            method: 'post',\n            headers: {\n              Authorization: `Bearer ${currentUser.token}`,\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              message,\n              userId: user._id,\n              test: 'hey'\n            })\n          });\n        });\n      } catch (error) {\n        defaultToast(TOAST_TYPE.error, 'Error sending');\n      }\n    } else {\n      if (!typing) {\n        setTyping(true);\n        socket.emit('typing', activeChat[0]._id, currentUser);\n      }\n\n      const lastTypingTime = new Date().getTime();\n      const timerLength = 3000;\n      if (typingTimer) clearTimeout(typingTimer);\n      typingTimer = setTimeout(() => {\n        const timeNow = new Date().getTime();\n        const timeDiff = timeNow - lastTypingTime;\n\n        if (timeDiff >= timerLength) {\n          socket.emit('stop typing', activeChat[0]._id, currentUser);\n          setTyping(false);\n        }\n      }, timerLength);\n    }\n  };\n\n  const fetchMessages = useCallback(async () => {\n    if (!socket) return;\n    if (!activeChat) return;\n    setIsLoading(true);\n    const response = await fetch(`http://localhost:4000/api/message/${activeChat[0]._id}`, {\n      method: 'get',\n      headers: {\n        Authorization: `Bearer ${currentUser.token}`\n      }\n    });\n    const messages = await response.json();\n    setMessages(messages);\n    setIsLoading(false);\n  }, [activeChat, currentUser.token, socket]);\n  useEffect(() => {\n    fetchMessages();\n    setShowFlag(false);\n  }, [fetchMessages, activeChat]);\n  useEffect(() => {\n    if (!socket) return;\n    socket.emit('join room', activeChat[0]._id);\n    socket.emit('stop typing', activeChat[0]._id, currentUser);\n    return () => socket.emit('leave room', activeChat[0]._id);\n  }, [activeChat, socket, currentUser]); // useEffect(() => {\n  //   if (!socket) return;\n  //   socket.on('msg-received', async message => {\n  //     if (!activeChat[0]._id || message.chat._id !== activeChat[0]._id) {\n  //       try {\n  //         const response = await fetch(\n  //           `http://localhost:4000/api/notification/addNotification`,\n  //           {\n  //             method: 'post',\n  //             headers: {\n  //               Authorization: `Bearer ${currentUser.token}`,\n  //               'Content-Type': 'application/json',\n  //             },\n  //             body: JSON.stringify({\n  //               message,\n  //             }),\n  //           }\n  //         );\n  //         const notification = await response.json();\n  //         setNotifications(prevState => [...prevState, notification]);\n  //       } catch (error) {\n  //         defaultToast(TOAST_TYPE.error, 'Error setting notifications');\n  //       }\n  //     } else {\n  //       setIsTyping(false);\n  //       setMessages(prevState => [...prevState, message]);\n  //     }\n  //   });\n  //   return () => socket.off('msg-received');\n  // }, [\n  //   socket,\n  //   activeChat,\n  //   setNotifications,\n  //   currentUser.token,\n  //   setUnreadMessages,\n  // ]);\n\n  useEffect(() => {\n    setIsTyping(false);\n    if (typingTimer) clearTimeout(typingTimer);\n  }, [activeChat, setIsTyping]);\n  useEffect(() => {\n    if (!socket) return;\n    socket.on('typing', typer => {\n      setIsTyping(true);\n      setTypers(prevState => [...new Set([typer, ...prevState])]);\n    });\n    socket.on('stop typing', userName => {\n      const usersStillTyping = typers.filter(typer => typer !== userName);\n\n      if (usersStillTyping.length > 0 && typers.length !== 0) {\n        setIsTyping(true);\n        setTypers(usersStillTyping);\n        return;\n      }\n\n      setIsTyping(false);\n      setTypers([]);\n    });\n    return () => {\n      socket.off('typing');\n      socket.off('stop typing');\n    };\n  }, [socket, typers]);\n  useEffect(() => {\n    setTypers([]);\n  }, [activeChat]);\n\n  const handleScroll = e => {\n    const bottom = e.target.scrollHeight - Math.round(e.target.scrollTop) === e.target.clientHeight;\n\n    if (circuit) {\n      setShowFlag(true);\n      setCircuit(false);\n    } else if (bottom && showFlag) {\n      setUnreadMessages([]);\n      setShowFlag(false);\n    }\n  };\n\n  const setRef = useCallback(node => {\n    if (node && isTyping && isScrolledIntoView(node)) {\n      node.scrollIntoView({\n        smooth: true\n      });\n    } else if (node && !isTyping) {\n      node.scrollIntoView({\n        smooth: true\n      });\n    }\n\n    setCircuit(true);\n  }, [isTyping, setCircuit]);\n\n  const isScrolledIntoView = el => {\n    var rect = el.getBoundingClientRect();\n    var elemTop = rect.top;\n    var elemBottom = rect.bottom; // Only completely visible elements return true:\n\n    var isVisible = elemTop >= 0 && elemBottom <= window.innerHeight; // Partially visible elements return true:\n    //isVisible = elemTop < window.innerHeight && elemBottom >= 0;\n\n    return isVisible;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"message-view-container\",\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Spinner, {\n      type: \"search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onScroll: handleScroll,\n        className: \"message-view-active-chat-container\",\n        children: messages.length > 0 && messages.map((message, i) => {\n          var _newRef$current;\n\n          const lastMessageBool = messages.length - 1 === i + 1;\n          const userSentBool = userSent(currentUser, message);\n          const sameSenderAndNotCurrentUserBool = sameSenderAndNotCurrentUser(i, messages, currentUser);\n          const firstUnreadMessage = unreadMessages.length > 0 && unreadMessages[0].message._id === message._id;\n          return /*#__PURE__*/_jsxDEV(Fragment, {\n            children: [firstUnreadMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: i === 0 ? {\n                marginTop: '16px'\n              } : {},\n              ref: setRef,\n              className: \"first-unread-message-container\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                ref: newRef,\n                style: {\n                  marginLeft: `-${(_newRef$current = newRef.current) === null || _newRef$current === void 0 ? void 0 : _newRef$current.width}`\n                },\n                children: \"New\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: lastMessageBool && unreadMessages.length === 0 ? setRef : null,\n              style: i === 0 ? {\n                paddingTop: '6px'\n              } : {},\n              className: `message-view-message-container ${userSentBool ? 'user-sent' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-view-message-image-container\",\n                style: sameSenderAndNotCurrentUserBool || userSentBool ? {\n                  visibility: 'hidden'\n                } : {\n                  marginTop: '2px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  height: \"100%\",\n                  src: message.sender.picture,\n                  alt: \"profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-view-text-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-view-text\",\n                  children: message.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: sameSenderAndNotCurrentUserBool || userSentBool ? {\n                    display: 'none'\n                  } : {},\n                  className: \"message-view-text-info\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"@\", !userSentBool ? message.sender.userName : 'You']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 21\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 19\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lottie-container\",\n        children: [typers.length ? getTyperString(typers) : '', /*#__PURE__*/_jsxDEV(Lottie, {\n          animationData: animationData,\n          loop: true,\n          autoplay: true,\n          style: {\n            height: '16px',\n            display: 'block'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"send-message-editable\",\n        \"data-text\": `Message ${activeChat[0].isGroupChat ? activeChat[0].chatName : generateChatNameForSoloChats(activeChat[0].users, currentUser)}`,\n        contentEditable: true,\n        onKeyDown: handleKeyDown\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MessageView, \"gtEn0n/IPbYDu1L8mZEl2iK/8g0=\", false, function () {\n  return [useAuthentication, useChatView, useSocket];\n});\n\n_c = MessageView;\nexport default MessageView;\n\nvar _c;\n\n$RefreshReg$(_c, \"MessageView\");","map":{"version":3,"names":["useCallback","useEffect","useState","Fragment","useRef","Lottie","useChatView","Spinner","useAuthentication","animationData","defaultToast","sameSenderAndNotCurrentUser","TOAST_TYPE","userSent","getTyperString","generateChatNameForSoloChats","useSocket","typingTimer","MessageView","isTyping","setIsTyping","currentUser","activeChat","setNotifications","unreadMessages","setUnreadMessages","socket","onlineUsers","messages","setMessages","isLoading","setIsLoading","typing","setTyping","typers","setTypers","showFlag","setShowFlag","circuit","setCircuit","newRef","handleKeyDownForNewMessages","e","key","window","addEventListener","handleKeyDown","newMessage","target","innerHTML","preventDefault","response","fetch","method","headers","Authorization","token","body","JSON","stringify","chatId","_id","text","message","json","emit","prevState","chat","usersOtherThanCurrentAndOffline","users","forEach","user","isOnline","some","onlineUserArr","includes","push","userId","test","error","lastTypingTime","Date","getTime","timerLength","clearTimeout","setTimeout","timeNow","timeDiff","fetchMessages","on","typer","Set","userName","usersStillTyping","filter","length","off","handleScroll","bottom","scrollHeight","Math","round","scrollTop","clientHeight","setRef","node","isScrolledIntoView","scrollIntoView","smooth","el","rect","getBoundingClientRect","elemTop","top","elemBottom","isVisible","innerHeight","map","i","lastMessageBool","userSentBool","sameSenderAndNotCurrentUserBool","firstUnreadMessage","marginTop","marginLeft","current","width","paddingTop","visibility","sender","picture","display","height","isGroupChat","chatName"],"sources":["/Users/griffinbaker/Desktop/chat-application/client/src/components/message-view/message-view.component.jsx"],"sourcesContent":["import { useCallback, useEffect, useState, Fragment, useRef } from 'react';\nimport Lottie from 'lottie-react';\nimport { useChatView } from '../../contexts/chat-view-context';\nimport Spinner from '../spinner/spinner.component';\nimport './message-view.styles.scss';\nimport { useAuthentication } from '../../contexts/authentication-context';\nimport animationData from '../../animations/typing.json';\nimport {\n  defaultToast,\n  sameSenderAndNotCurrentUser,\n  TOAST_TYPE,\n  userSent,\n  getTyperString,\n  generateChatNameForSoloChats,\n} from '../../utils/utils';\nimport { useSocket } from '../../contexts/socket-context';\n\n// Could definitely add timestamp data to the message as well, that would be pretty clean actually\n\nlet typingTimer;\n\nconst MessageView = ({ isTyping, setIsTyping }) => {\n  // Somehow we are going to have to get all of the message in a conversation potentially and then mark whether or not they are your messages or someone else's to style accordingly;\n  const { currentUser } = useAuthentication();\n  const { activeChat, setNotifications, unreadMessages, setUnreadMessages } =\n    useChatView();\n  const { socket, onlineUsers } = useSocket();\n\n  const [messages, setMessages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  // const [isTyping, setIsTyping] = useState(false);\n  const [typing, setTyping] = useState(false);\n  const [typers, setTypers] = useState([]);\n  const [showFlag, setShowFlag] = useState(false);\n  const [circuit, setCircuit] = useState(false);\n\n  const newRef = useRef();\n\n  useEffect(() => {\n    const handleKeyDownForNewMessages = e => {\n      if (e.key === 'Escape') setUnreadMessages([]);\n    };\n    window.addEventListener('keydown', handleKeyDownForNewMessages);\n    return () =>\n      window.addEventListener('keydown', handleKeyDownForNewMessages);\n  }, [setUnreadMessages]);\n\n  const handleKeyDown = async e => {\n    if (!socket) return;\n    const newMessage = e.target.innerHTML;\n    if (e.key === 'Enter' && newMessage) {\n      e.preventDefault();\n      e.target.innerHTML = '';\n      try {\n        const response = await fetch(`http://localhost:4000/api/message`, {\n          method: 'post',\n          headers: {\n            Authorization: `Bearer ${currentUser.token}`,\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            chatId: activeChat[0]._id,\n            text: newMessage,\n          }),\n        });\n        const message = await response.json();\n        socket.emit('send-msg', message);\n        setMessages(prevState => [...prevState, message]);\n        setUnreadMessages([]);\n        setTyping(false);\n        socket.emit('chat update', message.chat);\n\n        const usersOtherThanCurrentAndOffline = [];\n        message.chat.users.forEach(user => {\n          if (user._id === currentUser._id) return;\n          const isOnline = onlineUsers.some(onlineUserArr =>\n            onlineUserArr.includes(user._id)\n          );\n          if (!isOnline) usersOtherThanCurrentAndOffline.push(user);\n        });\n\n        // Log the notification for every user that is offline so it appears when they log in\n        usersOtherThanCurrentAndOffline.forEach(async user => {\n          await fetch(\n            `http://localhost:4000/api/notification/addNotification`,\n            {\n              method: 'post',\n              headers: {\n                Authorization: `Bearer ${currentUser.token}`,\n                'Content-Type': 'application/json',\n              },\n              body: JSON.stringify({\n                message,\n                userId: user._id,\n                test: 'hey',\n              }),\n            }\n          );\n        });\n      } catch (error) {\n        defaultToast(TOAST_TYPE.error, 'Error sending');\n      }\n    } else {\n      if (!typing) {\n        setTyping(true);\n        socket.emit('typing', activeChat[0]._id, currentUser);\n      }\n      const lastTypingTime = new Date().getTime();\n      const timerLength = 3000;\n      if (typingTimer) clearTimeout(typingTimer);\n      typingTimer = setTimeout(() => {\n        const timeNow = new Date().getTime();\n        const timeDiff = timeNow - lastTypingTime;\n        if (timeDiff >= timerLength) {\n          socket.emit('stop typing', activeChat[0]._id, currentUser);\n          setTyping(false);\n        }\n      }, timerLength);\n    }\n  };\n\n  const fetchMessages = useCallback(async () => {\n    if (!socket) return;\n    if (!activeChat) return;\n\n    setIsLoading(true);\n    const response = await fetch(\n      `http://localhost:4000/api/message/${activeChat[0]._id}`,\n      {\n        method: 'get',\n        headers: { Authorization: `Bearer ${currentUser.token}` },\n      }\n    );\n    const messages = await response.json();\n    setMessages(messages);\n    setIsLoading(false);\n  }, [activeChat, currentUser.token, socket]);\n\n  useEffect(() => {\n    fetchMessages();\n    setShowFlag(false);\n  }, [fetchMessages, activeChat]);\n\n  useEffect(() => {\n    if (!socket) return;\n    socket.emit('join room', activeChat[0]._id);\n    socket.emit('stop typing', activeChat[0]._id, currentUser);\n    return () => socket.emit('leave room', activeChat[0]._id);\n  }, [activeChat, socket, currentUser]);\n\n  // useEffect(() => {\n  //   if (!socket) return;\n  //   socket.on('msg-received', async message => {\n  //     if (!activeChat[0]._id || message.chat._id !== activeChat[0]._id) {\n  //       try {\n  //         const response = await fetch(\n  //           `http://localhost:4000/api/notification/addNotification`,\n  //           {\n  //             method: 'post',\n  //             headers: {\n  //               Authorization: `Bearer ${currentUser.token}`,\n  //               'Content-Type': 'application/json',\n  //             },\n  //             body: JSON.stringify({\n  //               message,\n  //             }),\n  //           }\n  //         );\n  //         const notification = await response.json();\n  //         setNotifications(prevState => [...prevState, notification]);\n  //       } catch (error) {\n  //         defaultToast(TOAST_TYPE.error, 'Error setting notifications');\n  //       }\n  //     } else {\n  //       setIsTyping(false);\n  //       setMessages(prevState => [...prevState, message]);\n  //     }\n  //   });\n  //   return () => socket.off('msg-received');\n  // }, [\n  //   socket,\n  //   activeChat,\n  //   setNotifications,\n  //   currentUser.token,\n  //   setUnreadMessages,\n  // ]);\n\n  useEffect(() => {\n    setIsTyping(false);\n    if (typingTimer) clearTimeout(typingTimer);\n  }, [activeChat, setIsTyping]);\n\n  useEffect(() => {\n    if (!socket) return;\n    socket.on('typing', typer => {\n      setIsTyping(true);\n      setTypers(prevState => [...new Set([typer, ...prevState])]);\n    });\n    socket.on('stop typing', userName => {\n      const usersStillTyping = typers.filter(typer => typer !== userName);\n      if (usersStillTyping.length > 0 && typers.length !== 0) {\n        setIsTyping(true);\n        setTypers(usersStillTyping);\n        return;\n      }\n      setIsTyping(false);\n      setTypers([]);\n    });\n    return () => {\n      socket.off('typing');\n      socket.off('stop typing');\n    };\n  }, [socket, typers]);\n\n  useEffect(() => {\n    setTypers([]);\n  }, [activeChat]);\n\n  const handleScroll = e => {\n    const bottom =\n      e.target.scrollHeight - Math.round(e.target.scrollTop) ===\n      e.target.clientHeight;\n    if (circuit) {\n      setShowFlag(true);\n      setCircuit(false);\n    } else if (bottom && showFlag) {\n      setUnreadMessages([]);\n      setShowFlag(false);\n    }\n  };\n\n  const setRef = useCallback(\n    node => {\n      if (node && isTyping && isScrolledIntoView(node)) {\n        node.scrollIntoView({ smooth: true });\n      } else if (node && !isTyping) {\n        node.scrollIntoView({ smooth: true });\n      }\n      setCircuit(true);\n    },\n    [isTyping, setCircuit]\n  );\n\n  const isScrolledIntoView = el => {\n    var rect = el.getBoundingClientRect();\n    var elemTop = rect.top;\n    var elemBottom = rect.bottom;\n\n    // Only completely visible elements return true:\n    var isVisible = elemTop >= 0 && elemBottom <= window.innerHeight;\n    // Partially visible elements return true:\n    //isVisible = elemTop < window.innerHeight && elemBottom >= 0;\n    return isVisible;\n  };\n\n  return (\n    <div className=\"message-view-container\">\n      {isLoading ? (\n        <Spinner type=\"search\" />\n      ) : (\n        <>\n          <div\n            onScroll={handleScroll}\n            className=\"message-view-active-chat-container\"\n          >\n            {messages.length > 0 &&\n              messages.map((message, i) => {\n                const lastMessageBool = messages.length - 1 === i + 1;\n                const userSentBool = userSent(currentUser, message);\n                const sameSenderAndNotCurrentUserBool =\n                  sameSenderAndNotCurrentUser(i, messages, currentUser);\n                const firstUnreadMessage =\n                  unreadMessages.length > 0 &&\n                  unreadMessages[0].message._id === message._id;\n\n                return (\n                  <Fragment key={i}>\n                    {firstUnreadMessage && (\n                      <div\n                        style={i === 0 ? { marginTop: '16px' } : {}}\n                        ref={setRef}\n                        className=\"first-unread-message-container\"\n                      >\n                        <p\n                          ref={newRef}\n                          style={{ marginLeft: `-${newRef.current?.width}` }}\n                        >\n                          New\n                        </p>\n                      </div>\n                    )}\n\n                    <div\n                      ref={\n                        lastMessageBool && unreadMessages.length === 0\n                          ? setRef\n                          : null\n                      }\n                      style={i === 0 ? { paddingTop: '6px' } : {}}\n                      className={`message-view-message-container ${\n                        userSentBool ? 'user-sent' : ''\n                      }`}\n                    >\n                      <div\n                        className=\"message-view-message-image-container\"\n                        style={\n                          sameSenderAndNotCurrentUserBool || userSentBool\n                            ? { visibility: 'hidden' }\n                            : { marginTop: '2px' }\n                        }\n                      >\n                        <img\n                          height=\"100%\"\n                          src={message.sender.picture}\n                          alt=\"profile\"\n                        />\n                      </div>\n                      <div className=\"message-view-text-container\">\n                        <div className=\"message-view-text\">{message.text}</div>\n                        <div\n                          style={\n                            sameSenderAndNotCurrentUserBool || userSentBool\n                              ? { display: 'none' }\n                              : {}\n                          }\n                          className=\"message-view-text-info\"\n                        >\n                          <p>\n                            @{!userSentBool ? message.sender.userName : 'You'}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  </Fragment>\n                );\n              })}\n          </div>\n\n          {isTyping && (\n            <div className=\"lottie-container\">\n              {typers.length ? getTyperString(typers) : ''}\n              <Lottie\n                animationData={animationData}\n                loop={true}\n                autoplay={true}\n                style={{ height: '16px', display: 'block' }}\n              />\n            </div>\n          )}\n\n          <div\n            className=\"send-message-editable\"\n            data-text={`Message ${\n              activeChat[0].isGroupChat\n                ? activeChat[0].chatName\n                : generateChatNameForSoloChats(activeChat[0].users, currentUser)\n            }`}\n            contentEditable\n            onKeyDown={handleKeyDown}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default MessageView;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}