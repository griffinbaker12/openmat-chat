{"ast":null,"code":"import _regeneratorRuntime from\"/Users/griffinbaker/Desktop/chat-application/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"/Users/griffinbaker/Desktop/chat-application/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/griffinbaker/Desktop/chat-application/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/griffinbaker/Desktop/chat-application/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,useRef}from'react';import{useAuthentication}from'../../contexts/authentication-context';import{useChatView}from'../../contexts/chat-view-context';import Spinner from'../spinner/spinner.component';import{defaultToast,TOAST_TYPE}from'../../utils/utils';import'./user-info-modal.styles.scss';// This could easily be made more generalizable by saying activeUser and then whatever user you click on will have the same profile\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserInfoModal=function UserInfoModal(){var _useChatView=useChatView(),activeUserInfo=_useChatView.activeUserInfo,showModal=_useChatView.showModal,closeModal=_useChatView.closeModal,isActiveUserCurrentUser=_useChatView.isActiveUserCurrentUser,setShowActiveUserWithinChatInfo=_useChatView.setShowActiveUserWithinChatInfo,showActiveUserWithinChatInfo=_useChatView.showActiveUserWithinChatInfo,chats=_useChatView.chats,setActiveChat=_useChatView.setActiveChat,setChats=_useChatView.setChats,activeChat=_useChatView.activeChat;var _useAuthentication=useAuthentication(),currentUser=_useAuthentication.currentUser,setCurrentUser=_useAuthentication.setCurrentUser;var hiddenInputRef=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showDropdown=_useState2[0],setShowDropdown=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isPicLoading=_useState4[0],setIsPicLoading=_useState4[1];// When you look at their profile, you should be able to chat them, remove or add them as a friend, see their friends...TOMORROW!\n// Could be cool to be able to click either the chats or friends and then re-direct the user to the left hand side to either their chats or their friends. Also, if the active current user IS NOT the current user, then we need to show a back arrow to go back to the active chat\nvar goBackToChatInfo=function goBackToChatInfo(){return setShowActiveUserWithinChatInfo(false);};var handleChatCreation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var soloChats,existingChat,_activeChat$,otherParticipantId,payload,response,newChat;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.stopPropagation();soloChats=chats.filter(function(chat){return!chat.isGroupChat;});existingChat=soloChats.find(function(chat){return chat.users.some(function(user){return user._id===activeUserInfo._id;});});if(!existingChat){_context.next=11;break;}closeModal();closeDropdown();if(!(((_activeChat$=activeChat[0])===null||_activeChat$===void 0?void 0:_activeChat$._id)===existingChat._id)){_context.next=8;break;}return _context.abrupt(\"return\");case 8:setActiveChat([existingChat]);_context.next=29;break;case 11:otherParticipantId=[activeUserInfo._id];payload={chatName:null,users:otherParticipantId};_context.prev=13;_context.next=16;return fetch(\"http://localhost:4000/api/chat/createChat\",{method:'post',headers:{Authorization:\"Bearer \".concat(currentUser.token),'Content-Type':'application/json'},body:JSON.stringify(payload)});case 16:response=_context.sent;_context.next=19;return response.json();case 19:newChat=_context.sent;setChats(function(prevState){return[newChat].concat(_toConsumableArray(prevState));});closeModal();closeDropdown();defaultToast(TOAST_TYPE.success,'Chat creation successful');_context.next=29;break;case 26:_context.prev=26;_context.t0=_context[\"catch\"](13);defaultToast(TOAST_TYPE.failure,'Error creating chat');case 29:case\"end\":return _context.stop();}}},_callee,null,[[13,26]]);}));return function handleChatCreation(_x){return _ref.apply(this,arguments);};}();var handleModalClick=function handleModalClick(e){e.stopPropagation();if(showDropdown){setShowDropdown(false);return;}closeModal();};var closeDropdown=function closeDropdown(){return setShowDropdown(false);};var closeUserInfoDropdownAndStopPropagation=function closeUserInfoDropdownAndStopPropagation(e){var ellipsisPress=e.target.closest('.user-info-modal-back-ellipsis');e.stopPropagation();if(!ellipsisPress){setShowDropdown(false);}};var handleFileInputChange=function handleFileInputChange(e){var picture=e.target.files[0];if(e.target.files){postImageDetails(picture);}else return;};var handleImageUpload=function handleImageUpload(){hiddenInputRef.current.click();};var postImageDetails=function postImageDetails(picture){setIsPicLoading(true);if(!picture){setIsPicLoading(false);return;}var data=new FormData();data.append('file',picture);data.append('upload_preset','chat-app');fetch('https://api.cloudinary.com/v1_1/dhogrpl6c/image/upload',{method:'post',body:data}).then(function(res){return res.json();}).then(function(data){updateUserPicture(data);}).catch(function(err){defaultToast(TOAST_TYPE.error,'Error uploading image');});};var updateUserPicture=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(pictureDetails){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fetch('http://localhost:4000/api/user/changeProfilePicture',{method:'put',headers:{Authorization:\"Bearer \".concat(currentUser.token),'Content-Type':'application/json'},body:JSON.stringify({url:pictureDetails.url,token:currentUser.token})}).then(function(res){return res.json();}).then(function(updatedUser){setCurrentUser(updatedUser);setIsPicLoading(false);defaultToast(TOAST_TYPE.success,'Profile photo updated');}).catch(function(err){setIsPicLoading(false);defaultToast(TOAST_TYPE.error,'Error updating account');});case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function updateUserPicture(_x2){return _ref2.apply(this,arguments);};}();useEffect(function(){document.addEventListener('click',closeUserInfoDropdownAndStopPropagation);return function(){return document.removeEventListener('click',closeUserInfoDropdownAndStopPropagation);};});return activeUserInfo&&showActiveUserWithinChatInfo&&/*#__PURE__*/_jsx(\"div\",{className:\"user-info-modal-container \".concat(showModal?'active':''),onClick:handleModalClick,children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-info-modal-content\",onClick:closeUserInfoDropdownAndStopPropagation,children:[/*#__PURE__*/_jsx(\"div\",{style:isActiveUserCurrentUser?{visibility:'visible',marginBottom:'4px'}:{display:'none'},className:\"user-info-modal-button-container\",children:/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,type:\"button\",style:{color:'white'},children:\"\\u2715\"})}),/*#__PURE__*/_jsxs(\"div\",{style:isActiveUserCurrentUser?{paddingTop:'20px'}:{paddingTop:'12px'},className:\"user-info-modal-user-detail-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info-modal-user-detail-header-with-buttons\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:goBackToChatInfo,className:\"user-info-modal-back-arrow\",style:isActiveUserCurrentUser?{visibility:'hidden'}:{fontSize:'24px'},children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"p\",{className:\"user-info-modal-name\",children:isActiveUserCurrentUser?currentUser.name:activeUserInfo.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"user-info-modal-username-email\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"@\",isActiveUserCurrentUser?currentUser.userName:activeUserInfo.userName]})}),/*#__PURE__*/_jsx(\"div\",{className:\"user-info-modal-picture-container\",children:/*#__PURE__*/_jsx(\"img\",{height:\"100%\",src:isActiveUserCurrentUser?currentUser.picture:activeUserInfo.picture,alt:\"profile\"})})]}),isActiveUserCurrentUser?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{ref:hiddenInputRef,type:\"file\",accept:\"image/jpeg, image/png\",id:\"profile-picture\",onChange:handleFileInputChange,hidden:true}),/*#__PURE__*/_jsx(\"button\",{onClick:handleImageUpload,type:\"button\",className:\"user-info-button\",children:isPicLoading?/*#__PURE__*/_jsx(Spinner,{}):'Change Profile Picture'})]}):/*#__PURE__*/_jsx(\"button\",{onClick:handleChatCreation,className:\"user-info-button\",children:\"Send Message\"})]})});};export default UserInfoModal;","map":{"version":3,"names":["useEffect","useState","useRef","useAuthentication","useChatView","Spinner","defaultToast","TOAST_TYPE","UserInfoModal","activeUserInfo","showModal","closeModal","isActiveUserCurrentUser","setShowActiveUserWithinChatInfo","showActiveUserWithinChatInfo","chats","setActiveChat","setChats","activeChat","currentUser","setCurrentUser","hiddenInputRef","showDropdown","setShowDropdown","isPicLoading","setIsPicLoading","goBackToChatInfo","handleChatCreation","e","stopPropagation","soloChats","filter","chat","isGroupChat","existingChat","find","users","some","user","_id","closeDropdown","otherParticipantId","payload","chatName","fetch","method","headers","Authorization","token","body","JSON","stringify","response","json","newChat","prevState","success","failure","handleModalClick","closeUserInfoDropdownAndStopPropagation","ellipsisPress","target","closest","handleFileInputChange","picture","files","postImageDetails","handleImageUpload","current","click","data","FormData","append","then","res","updateUserPicture","catch","err","error","pictureDetails","url","updatedUser","document","addEventListener","removeEventListener","visibility","marginBottom","display","color","paddingTop","fontSize","name","userName"],"sources":["/Users/griffinbaker/Desktop/chat-application/client/src/components/user-info-modal/user-info-modal.component.jsx"],"sourcesContent":["import { useEffect, useState, useRef } from 'react';\nimport { useAuthentication } from '../../contexts/authentication-context';\nimport { useChatView } from '../../contexts/chat-view-context';\nimport Spinner from '../spinner/spinner.component';\nimport { defaultToast, TOAST_TYPE } from '../../utils/utils';\nimport './user-info-modal.styles.scss';\n\n// This could easily be made more generalizable by saying activeUser and then whatever user you click on will have the same profile\n\nconst UserInfoModal = () => {\n  const {\n    activeUserInfo,\n    showModal,\n    closeModal,\n    isActiveUserCurrentUser,\n    setShowActiveUserWithinChatInfo,\n    showActiveUserWithinChatInfo,\n    chats,\n    setActiveChat,\n    setChats,\n    activeChat,\n  } = useChatView();\n\n  const { currentUser, setCurrentUser } = useAuthentication();\n\n  const hiddenInputRef = useRef();\n\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [isPicLoading, setIsPicLoading] = useState(false);\n\n  // When you look at their profile, you should be able to chat them, remove or add them as a friend, see their friends...TOMORROW!\n\n  // Could be cool to be able to click either the chats or friends and then re-direct the user to the left hand side to either their chats or their friends. Also, if the active current user IS NOT the current user, then we need to show a back arrow to go back to the active chat\n\n  const goBackToChatInfo = () => setShowActiveUserWithinChatInfo(false);\n\n  const handleChatCreation = async e => {\n    e.stopPropagation();\n\n    const soloChats = chats.filter(chat => !chat.isGroupChat);\n\n    const existingChat = soloChats.find(chat =>\n      chat.users.some(user => user._id === activeUserInfo._id)\n    );\n\n    if (existingChat) {\n      closeModal();\n      closeDropdown();\n      if (activeChat[0]?._id === existingChat._id) return;\n      setActiveChat([existingChat]);\n    } else {\n      const otherParticipantId = [activeUserInfo._id];\n      const payload = {\n        chatName: null,\n        users: otherParticipantId,\n      };\n\n      try {\n        const response = await fetch(\n          `http://localhost:4000/api/chat/createChat`,\n          {\n            method: 'post',\n            headers: {\n              Authorization: `Bearer ${currentUser.token}`,\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(payload),\n          }\n        );\n        const newChat = await response.json();\n        setChats(prevState => [newChat, ...prevState]);\n        closeModal();\n        closeDropdown();\n        defaultToast(TOAST_TYPE.success, 'Chat creation successful');\n      } catch (e) {\n        defaultToast(TOAST_TYPE.failure, 'Error creating chat');\n      }\n    }\n  };\n\n  const handleModalClick = e => {\n    e.stopPropagation();\n    if (showDropdown) {\n      setShowDropdown(false);\n      return;\n    }\n    closeModal();\n  };\n\n  const closeDropdown = () => setShowDropdown(false);\n\n  const closeUserInfoDropdownAndStopPropagation = e => {\n    const ellipsisPress = e.target.closest('.user-info-modal-back-ellipsis');\n    e.stopPropagation();\n\n    if (!ellipsisPress) {\n      setShowDropdown(false);\n    }\n  };\n\n  const handleFileInputChange = e => {\n    const picture = e.target.files[0];\n    if (e.target.files) {\n      postImageDetails(picture);\n    } else return;\n  };\n\n  const handleImageUpload = () => {\n    hiddenInputRef.current.click();\n  };\n\n  const postImageDetails = picture => {\n    setIsPicLoading(true);\n    if (!picture) {\n      setIsPicLoading(false);\n      return;\n    }\n\n    const data = new FormData();\n    data.append('file', picture);\n    data.append('upload_preset', 'chat-app');\n\n    fetch('https://api.cloudinary.com/v1_1/dhogrpl6c/image/upload', {\n      method: 'post',\n      body: data,\n    })\n      .then(res => res.json())\n      .then(data => {\n        updateUserPicture(data);\n      })\n      .catch(err => {\n        defaultToast(TOAST_TYPE.error, 'Error uploading image');\n      });\n  };\n\n  const updateUserPicture = async pictureDetails => {\n    fetch('http://localhost:4000/api/user/changeProfilePicture', {\n      method: 'put',\n      headers: {\n        Authorization: `Bearer ${currentUser.token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        url: pictureDetails.url,\n        token: currentUser.token,\n      }),\n    })\n      .then(res => res.json())\n      .then(updatedUser => {\n        setCurrentUser(updatedUser);\n        setIsPicLoading(false);\n        defaultToast(TOAST_TYPE.success, 'Profile photo updated');\n      })\n      .catch(err => {\n        setIsPicLoading(false);\n        defaultToast(TOAST_TYPE.error, 'Error updating account');\n      });\n  };\n\n  useEffect(() => {\n    document.addEventListener('click', closeUserInfoDropdownAndStopPropagation);\n    return () =>\n      document.removeEventListener(\n        'click',\n        closeUserInfoDropdownAndStopPropagation\n      );\n  });\n\n  return (\n    activeUserInfo &&\n    showActiveUserWithinChatInfo && (\n      <div\n        className={`user-info-modal-container ${showModal ? 'active' : ''}`}\n        onClick={handleModalClick}\n      >\n        <div\n          className=\"user-info-modal-content\"\n          onClick={closeUserInfoDropdownAndStopPropagation}\n        >\n          <div\n            style={\n              isActiveUserCurrentUser\n                ? { visibility: 'visible', marginBottom: '4px' }\n                : { display: 'none' }\n            }\n            className=\"user-info-modal-button-container\"\n          >\n            <button\n              onClick={closeModal}\n              type=\"button\"\n              style={{ color: 'white' }}\n            >\n              &#x2715;\n            </button>\n          </div>\n          <div\n            style={\n              isActiveUserCurrentUser\n                ? { paddingTop: '20px' }\n                : { paddingTop: '12px' }\n            }\n            className=\"user-info-modal-user-detail-container\"\n          >\n            <div className=\"user-info-modal-user-detail-header-with-buttons\">\n              <div\n                onClick={goBackToChatInfo}\n                className=\"user-info-modal-back-arrow\"\n                style={\n                  isActiveUserCurrentUser\n                    ? { visibility: 'hidden' }\n                    : {\n                        fontSize: '24px',\n                      }\n                }\n              >\n                &#8592;\n              </div>\n              <p className=\"user-info-modal-name\">\n                {isActiveUserCurrentUser\n                  ? currentUser.name\n                  : activeUserInfo.name}\n              </p>\n            </div>\n            <div className=\"user-info-modal-username-email\">\n              <p>\n                @\n                {isActiveUserCurrentUser\n                  ? currentUser.userName\n                  : activeUserInfo.userName}\n              </p>\n            </div>\n            <div className=\"user-info-modal-picture-container\">\n              <img\n                height=\"100%\"\n                src={\n                  isActiveUserCurrentUser\n                    ? currentUser.picture\n                    : activeUserInfo.picture\n                }\n                alt=\"profile\"\n              />\n            </div>\n          </div>\n          {isActiveUserCurrentUser ? (\n            <>\n              <input\n                ref={hiddenInputRef}\n                type=\"file\"\n                accept=\"image/jpeg, image/png\"\n                id=\"profile-picture\"\n                onChange={handleFileInputChange}\n                hidden\n              />\n              <button\n                onClick={handleImageUpload}\n                type=\"button\"\n                className=\"user-info-button\"\n              >\n                {isPicLoading ? <Spinner /> : 'Change Profile Picture'}\n              </button>\n            </>\n          ) : (\n            <button onClick={handleChatCreation} className=\"user-info-button\">\n              Send Message\n            </button>\n          )}\n        </div>\n      </div>\n    )\n  );\n};\n\nexport default UserInfoModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}