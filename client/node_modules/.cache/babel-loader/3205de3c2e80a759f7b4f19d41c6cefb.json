{"ast":null,"code":"import _slicedToArray from\"/Users/griffinbaker/Desktop/chat-application/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useRef}from'react';import AccountDropdown from'../account-dropdown/account-dropdown.component';import NotificationDropdown from'../notification-dropdown/notification-dropdown.component';import{ReactComponent as NotificationBell}from'../../assets/notification-bell.svg';import{useAuthentication}from'../../contexts/authentication-context';import'./header-chat.styles.scss';import{useChatView}from'../../contexts/chat-view-context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HeaderChat=function HeaderChat(_ref){var logo=_ref.logo;var _useAuthentication=useAuthentication(),currentUser=_useAuthentication.currentUser;var picture=currentUser.picture;var _useChatView=useChatView(),notifications=_useChatView.notifications;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),toggleAccount=_useState2[0],setToggleAccount=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),toggleNotification=_useState4[0],setToggleNotification=_useState4[1];var accountContainerRef=useRef();var notificationContainerRef=useRef();// What I still need to do here obviously is track when new messages come in or friend requests and stuff like that, count them up, and then display them here\nvar handleAccountClick=function handleAccountClick(){return setToggleAccount(function(prevState){return!prevState;});};var handleNotificationClick=function handleNotificationClick(){return setToggleNotification(function(prevState){return!prevState;});};var closeAccountDropdown=function closeAccountDropdown(){return setToggleAccount(false);};var closeNotificationDropdown=function closeNotificationDropdown(){return setToggleNotification(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"header-chat-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-chat-logo-container\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,height:\"100%\",width:\"auto\",alt:\"open mat logo\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-chat-title\",children:/*#__PURE__*/_jsx(\"p\",{children:\"OpenMat Chat\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-chat-links\",children:[/*#__PURE__*/_jsxs(\"div\",{ref:notificationContainerRef,onClick:handleNotificationClick,className:\"header-chat-link notification-bell\",children:[/*#__PURE__*/_jsx(NotificationBell,{}),notifications&&notifications.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"notification-count\",children:notifications.length>9?'9+':notifications.length}):'']}),/*#__PURE__*/_jsx(\"div\",{ref:accountContainerRef,onClick:handleAccountClick,className:\"header-chat-link user-account\",children:/*#__PURE__*/_jsx(\"button\",{className:\"header-user-account-container\",children:/*#__PURE__*/_jsx(\"img\",{src:picture,alt:\"profile\"})})})]}),toggleNotification&&/*#__PURE__*/_jsx(NotificationDropdown,{ref:notificationContainerRef,handleDropdown:setToggleNotification,closeAccountDropdown:closeAccountDropdown,closeNotificationDropdown:closeNotificationDropdown}),toggleAccount&&/*#__PURE__*/_jsx(AccountDropdown,{ref:accountContainerRef,handleDropdown:setToggleAccount,closeAccountDropdown:closeAccountDropdown,closeNotificationDropdown:closeNotificationDropdown})]});};export default HeaderChat;","map":{"version":3,"names":["useState","useRef","AccountDropdown","NotificationDropdown","ReactComponent","NotificationBell","useAuthentication","useChatView","HeaderChat","logo","currentUser","picture","notifications","toggleAccount","setToggleAccount","toggleNotification","setToggleNotification","accountContainerRef","notificationContainerRef","handleAccountClick","prevState","handleNotificationClick","closeAccountDropdown","closeNotificationDropdown","length"],"sources":["/Users/griffinbaker/Desktop/chat-application/client/src/components/header-chat/header-chat.component.jsx"],"sourcesContent":["import { useState, useRef } from 'react';\nimport AccountDropdown from '../account-dropdown/account-dropdown.component';\nimport NotificationDropdown from '../notification-dropdown/notification-dropdown.component';\nimport { ReactComponent as NotificationBell } from '../../assets/notification-bell.svg';\nimport { useAuthentication } from '../../contexts/authentication-context';\nimport './header-chat.styles.scss';\nimport { useChatView } from '../../contexts/chat-view-context';\n\nconst HeaderChat = ({ logo }) => {\n  const { currentUser } = useAuthentication();\n  const { picture } = currentUser;\n  const { notifications } = useChatView();\n  const [toggleAccount, setToggleAccount] = useState(false);\n  const [toggleNotification, setToggleNotification] = useState(false);\n  const accountContainerRef = useRef();\n  const notificationContainerRef = useRef();\n\n  // What I still need to do here obviously is track when new messages come in or friend requests and stuff like that, count them up, and then display them here\n\n  const handleAccountClick = () => setToggleAccount(prevState => !prevState);\n\n  const handleNotificationClick = () =>\n    setToggleNotification(prevState => !prevState);\n\n  const closeAccountDropdown = () => setToggleAccount(false);\n\n  const closeNotificationDropdown = () => setToggleNotification(false);\n\n  return (\n    <div className=\"header-chat-container\">\n      <div className=\"header-chat-logo-container\">\n        <img src={logo} height=\"100%\" width=\"auto\" alt=\"open mat logo\" />\n      </div>\n      <div className=\"header-chat-title\">\n        <p>OpenMat Chat</p>\n      </div>\n      <div className=\"header-chat-links\">\n        <div\n          ref={notificationContainerRef}\n          onClick={handleNotificationClick}\n          className=\"header-chat-link notification-bell\"\n        >\n          <NotificationBell />\n          {notifications && notifications.length > 0 ? (\n            <div className=\"notification-count\">\n              {notifications.length > 9 ? '9+' : notifications.length}\n            </div>\n          ) : (\n            ''\n          )}\n        </div>\n        <div\n          ref={accountContainerRef}\n          onClick={handleAccountClick}\n          className=\"header-chat-link user-account\"\n        >\n          <button className=\"header-user-account-container\">\n            <img src={picture} alt=\"profile\" />\n          </button>\n        </div>\n      </div>\n      {toggleNotification && (\n        <NotificationDropdown\n          ref={notificationContainerRef}\n          handleDropdown={setToggleNotification}\n          closeAccountDropdown={closeAccountDropdown}\n          closeNotificationDropdown={closeNotificationDropdown}\n        />\n      )}\n      {toggleAccount && (\n        <AccountDropdown\n          ref={accountContainerRef}\n          handleDropdown={setToggleAccount}\n          closeAccountDropdown={closeAccountDropdown}\n          closeNotificationDropdown={closeNotificationDropdown}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default HeaderChat;\n"],"mappings":"yIAAA,OAASA,QAAT,CAAmBC,MAAnB,KAAiC,OAAjC,CACA,MAAOC,gBAAP,KAA4B,gDAA5B,CACA,MAAOC,qBAAP,KAAiC,0DAAjC,CACA,OAASC,cAAc,GAAIC,iBAA3B,KAAmD,oCAAnD,CACA,OAASC,iBAAT,KAAkC,uCAAlC,CACA,MAAO,2BAAP,CACA,OAASC,WAAT,KAA4B,kCAA5B,C,wFAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,MAAc,IAAXC,KAAW,MAAXA,IAAW,CAC/B,uBAAwBH,iBAAiB,EAAzC,CAAQI,WAAR,oBAAQA,WAAR,CACA,GAAQC,QAAR,CAAoBD,WAApB,CAAQC,OAAR,CACA,iBAA0BJ,WAAW,EAArC,CAAQK,aAAR,cAAQA,aAAR,CACA,cAA0CZ,QAAQ,CAAC,KAAD,CAAlD,wCAAOa,aAAP,eAAsBC,gBAAtB,eACA,eAAoDd,QAAQ,CAAC,KAAD,CAA5D,yCAAOe,kBAAP,eAA2BC,qBAA3B,eACA,GAAMC,oBAAmB,CAAGhB,MAAM,EAAlC,CACA,GAAMiB,yBAAwB,CAAGjB,MAAM,EAAvC,CAEA;AAEA,GAAMkB,mBAAkB,CAAG,QAArBA,mBAAqB,SAAML,iBAAgB,CAAC,SAAAM,SAAS,QAAI,CAACA,SAAL,EAAV,CAAtB,EAA3B,CAEA,GAAMC,wBAAuB,CAAG,QAA1BA,wBAA0B,SAC9BL,sBAAqB,CAAC,SAAAI,SAAS,QAAI,CAACA,SAAL,EAAV,CADS,EAAhC,CAGA,GAAME,qBAAoB,CAAG,QAAvBA,qBAAuB,SAAMR,iBAAgB,CAAC,KAAD,CAAtB,EAA7B,CAEA,GAAMS,0BAAyB,CAAG,QAA5BA,0BAA4B,SAAMP,sBAAqB,CAAC,KAAD,CAA3B,EAAlC,CAEA,mBACE,aAAK,SAAS,CAAC,uBAAf,wBACE,YAAK,SAAS,CAAC,4BAAf,uBACE,YAAK,GAAG,CAAEP,IAAV,CAAgB,MAAM,CAAC,MAAvB,CAA8B,KAAK,CAAC,MAApC,CAA2C,GAAG,CAAC,eAA/C,EADF,EADF,cAIE,YAAK,SAAS,CAAC,mBAAf,uBACE,mCADF,EAJF,cAOE,aAAK,SAAS,CAAC,mBAAf,wBACE,aACE,GAAG,CAAES,wBADP,CAEE,OAAO,CAAEG,uBAFX,CAGE,SAAS,CAAC,oCAHZ,wBAKE,KAAC,gBAAD,IALF,CAMGT,aAAa,EAAIA,aAAa,CAACY,MAAd,CAAuB,CAAxC,cACC,YAAK,SAAS,CAAC,oBAAf,UACGZ,aAAa,CAACY,MAAd,CAAuB,CAAvB,CAA2B,IAA3B,CAAkCZ,aAAa,CAACY,MADnD,EADD,CAKC,EAXJ,GADF,cAeE,YACE,GAAG,CAAEP,mBADP,CAEE,OAAO,CAAEE,kBAFX,CAGE,SAAS,CAAC,+BAHZ,uBAKE,eAAQ,SAAS,CAAC,+BAAlB,uBACE,YAAK,GAAG,CAAER,OAAV,CAAmB,GAAG,CAAC,SAAvB,EADF,EALF,EAfF,GAPF,CAgCGI,kBAAkB,eACjB,KAAC,oBAAD,EACE,GAAG,CAAEG,wBADP,CAEE,cAAc,CAAEF,qBAFlB,CAGE,oBAAoB,CAAEM,oBAHxB,CAIE,yBAAyB,CAAEC,yBAJ7B,EAjCJ,CAwCGV,aAAa,eACZ,KAAC,eAAD,EACE,GAAG,CAAEI,mBADP,CAEE,cAAc,CAAEH,gBAFlB,CAGE,oBAAoB,CAAEQ,oBAHxB,CAIE,yBAAyB,CAAEC,yBAJ7B,EAzCJ,GADF,CAmDD,CAvED,CAyEA,cAAef,WAAf"},"metadata":{},"sourceType":"module"}